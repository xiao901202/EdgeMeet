<?xml version="1.0" encoding="utf-8"?>
<UserControl
    x:Class="ConferenceAssistant.Controls.RecordingStatusControl"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <UserControl.Resources>
        <!-- 錄音時的呼吸動畫 - 使用整體透明度 -->
        <Storyboard x:Name="RecordingPulseAnimation" RepeatBehavior="Forever">
            <DoubleAnimation Storyboard.TargetName="PulseIndicator" 
                           Storyboard.TargetProperty="Opacity"
                           From="0.3" To="1.0" Duration="0:0:1"
                           AutoReverse="True"/>
        </Storyboard>
    </UserControl.Resources>

    <Grid>
        <!-- 主要內容邊框 -->
        <Border x:Name="MainBorder"
                Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
                BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
                BorderThickness="1"
                CornerRadius="8"
                Padding="16">
            <StackPanel Spacing="12">
                <!-- 錄音狀態指示器 -->
                <Grid>
                    <Ellipse x:Name="RecordingIndicator"
                            Width="20" Height="20"
                            Fill="Gray"
                            HorizontalAlignment="Left"/>
                    <TextBlock x:Name="StatusTextBlock"
                              Text="準備就緒"
                              VerticalAlignment="Center"
                              Margin="32,0,0,0"
                              FontFamily="Microsoft JhengHei UI"
                              Style="{ThemeResource BodyTextBlockStyle}"/>
                </Grid>
            </StackPanel>
        </Border>
        
        <!-- 呼吸效果指示器 -->
        <Border x:Name="PulseIndicator"
                Background="Transparent"
                BorderBrush="Red"
                BorderThickness="2"
                CornerRadius="8"
                Opacity="0"
                Visibility="Collapsed">
        </Border>
    </Grid>
</UserControl>